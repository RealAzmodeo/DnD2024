<?xml version="1.0" encoding="UTF-8"?>
<compendium version="5" auto_indent="NO">
  <class>
    <name>Wizard [2024]</name>
    <hd>6</hd>
    <proficiency>Intelligence, Wisdom, Arcana, History, Insight, Investigation, Medicine, Nature, Religion</proficiency>
    <numSkills>2</numSkills>
    <armor>none</armor>
    <weapons>Simple weapons</weapons>
    <tools>none</tools>
    <spellAbility>Intelligence</spellAbility>
    <slotsReset>L</slotsReset>
    <autolevel level="1">
      <slots>3,2</slots> <!-- Cantrips, Level 1 Slots -->
    </autolevel>
    <autolevel level="2">
      <slots>3,3</slots>
    </autolevel>
    <autolevel level="3">
      <slots>3,4,2</slots>
    </autolevel>
    <autolevel level="4">
      <slots>4,4,3</slots>
    </autolevel>
    <autolevel level="5">
      <slots>4,4,3,2</slots>
    </autolevel>
    <autolevel level="6">
      <slots>4,4,3,3</slots>
    </autolevel>
    <autolevel level="7">
      <slots>4,4,3,3,1</slots>
    </autolevel>
    <autolevel level="8">
      <slots>4,4,3,3,2</slots>
    </autolevel>
    <autolevel level="9">
      <slots>4,4,3,3,3,1</slots>
    </autolevel>
    <autolevel level="10">
      <slots>5,4,3,3,3,2</slots>
    </autolevel>
    <autolevel level="11">
      <slots>5,4,3,3,3,2,1</slots>
    </autolevel>
    <autolevel level="12">
      <slots>5,4,3,3,3,2,1</slots>
    </autolevel>
    <autolevel level="13">
      <slots>5,4,3,3,3,2,1,1</slots>
    </autolevel>
    <autolevel level="14">
      <slots>5,4,3,3,3,2,1,1</slots>
    </autolevel>
    <autolevel level="15">
      <slots>5,4,3,3,3,2,1,1,1</slots>
    </autolevel>
    <autolevel level="16">
      <slots>5,4,3,3,3,2,1,1,1</slots>
    </autolevel>
    <autolevel level="17">
      <slots>5,4,3,3,3,2,1,1,1,1</slots>
    </autolevel>
    <autolevel level="18">
      <slots>5,4,3,3,3,3,1,1,1,1</slots>
    </autolevel>
    <autolevel level="19">
      <slots>5,4,3,3,3,3,2,1,1,1</slots>
    </autolevel>
    <autolevel level="20">
      <slots>5,4,3,3,3,3,2,2,1,1</slots>
    </autolevel>
    <trait>
      <name>Wizard</name>
      <text>Wizards are defined by their exhaustive study of magic's inner workings. They cast spells of explosive fire, arcing lightning, subtle deception, and spectacular transformations. Their magic conjures monsters from other planes of existence, glimpses the future, or forms protective barriers. Their mightiest spells change one substance into another, call meteors from the sky, or open portals to other worlds.
	Most Wizards share a scholarly approach to magic. They examine the theoretical underpinnings of magic, particularly the categorization of spells into schools of magic. Renowned Wizards such as Bigby, Tasha, Mordenkainen, and Yolande have built on their studies to invent iconic spells now used across the multiverse.
	The closest a Wizard is likely to come to an ordinary life is working as a sage or lecturer. Other Wizards sell their services as advisers, serve in military forces, or pursue lives of crime or domination.
	But the lure of knowledge calls even the most unadventurous Wizards from the safety of their libraries and laboratories and into crumbling ruins and lost cities. Most Wizards believe that their counterparts in ancient civilizations knew secrets of magic that have been lost to the ages, and discovering those secrets could unlock the path to a power greater than any magic available in the present age.

Source:	Player's Handbook 2024 p. 165</text>
    </trait>
    <autolevel level="1">
      <feature optional="YES">
        <name>Becoming A Wizard As A Level 1 Character</name>
        <text>As a 1st-level Wizard, you begin play with 6 + your Constitution modifier hit points.

Core Wizard Traits
Primary Ability: Intelligence
Hit Point Die: D6 per Wizard level
Saving Throw Proficiencies: Intelligence and Wisdom
Skill Proficiencies: Choose 2: Arcana, History, Insight, Investigation, Medicine, Nature, or Religion
Weapon Proficiencies: Simple weapons
Armor Training: None
Starting Equipment: Choose A or 8: (A) 2 Daggers, Arcane Focus (Quarterstaff), Robe, Spellbook, Scholar's Pack, and 5 GP; or (B) 55 GP

Source:	Player's Handbook 2024 p. 165</text>
      </feature>
      <feature optional="YES">
        <name>Becoming A Wizard As A Multiclass Character</name>
        <text>Core Wizard Traits
Primary Ability: Intelligence
Hit Point Die: D6 per Wizard level

Source:	Player's Handbook 2024 p. 165</text>
      </feature>
      <feature>
        <name>Level 1: Spellcasting</name>
        <text>As a student of arcane magic, you have learned to cast spells. See chapter 7 for the rules on spellcasting. The information below details how you use those rules with Wizard spells, which appear in the Wizard spell list later in the class's description.

Cantrips. You know three Wizard cantrips of your choice. Light, Mage Hand, and Ray of Frost are recommended. Whenever you finish a Long Rest. you can replace one of your can trips from this feature with another Wizard cantrip of your choice.
	When you reach Wizard levels 4 and 10, you learn another Wizard cant rip of your choice, as shown in the Cantrips column of the Wizard Features table.

Spellbook. Your wizardly apprenticeship culminated in the creation of a unique book: your spellbook. It is a Tiny object that weighs 3 pounds. contains 100 pages, and can be read only by you or someone casting Identify. You determine the book's appearance and materials, such as a gilt-edged tome or a collection of vellum bound with twine.
	The book contains the level 1+ spells you know. It starts with six level 1 Wizard spells of your choice. Detect Magic, Feather Fall, Mage Armor, Magic Missile. Sleep, and Thunderwave are recommended.
	Whenever you gain a Wizard level after 1, add two Wizard spells of your choice to your spellbook. Each of these spells must be of a level for which you have spell slots, as shown in the Wizard Features table. The spells are the culmination of arcane research you do regularly.

Spell Slots. The Wizard Features table shows how many spell slots you have to cast your level I+ spells. You regain all expended slots when you finish a Long Rest.

Prepared Spells of Level 1+. You prepare the list of level 1+ spells that are available for you to cast with this feature. To do so, choose four spells from your spellbook. The chosen spells must be of a level for which you have spell slots.
	The number of spells on your list increases as you gain Wizard levels, as shown in the Prepared Spells column of the Wizard Features table. Whenever that number increases, choose additional Wizard spells until the number of spells on your list matches the number in the table. The chosen spells must be of a level for which you have spell slots. For example, if you're a level 3 Wizard, your list of prepared spells can include six spells of levels 1 and 2 in any combination, chosen from your spellbook.
	If another Wizard feature gives you spells that you always have prepared, those spells don't count against the number of spells you can prepare with this feature, but those spells otherwise count as Wizard spells for you.

Changing Your Prepared Spells. Whenever you finish a Long Rest, you can change your list of prepared spells, replacing any of the spells there with spells from your spellbook.

Spellcasting Ability. Intelligence is your spellcasting ability for your Wizard spells.

Spellcasting Focus. You can use an Arcane Focus or your spellbook as a Spellcasting Focus for your Wizard spells.

<inline_table name="Prepared Spells">
  <header>
    <col label="Level"/>
    <col label="Prepared Spells"/>
  </header>
  <row>
    <cell value="1"/>
    <cell value="4"/>
  </row>
  <row>
    <cell value="2"/>
    <cell value="5"/>
  </row>
  <row>
    <cell value="3"/>
    <cell value="6"/>
  </row>
  <row>
    <cell value="4"/>
    <cell value="7"/>
  </row>
  <row>
    <cell value="5"/>
    <cell value="9"/>
  </row>
  <row>
    <cell value="6"/>
    <cell value="10"/>
  </row>
  <row>
    <cell value="7"/>
    <cell value="11"/>
  </row>
  <row>
    <cell value="8"/>
    <cell value="12"/>
  </row>
  <row>
    <cell value="9"/>
    <cell value="14"/>
  </row>
  <row>
    <cell value="10"/>
    <cell value="15"/>
  </row>
  <row>
    <cell value="11"/>
    <cell value="16"/>
  </row>
  <row>
    <cell value="12"/>
    <cell value="16"/>
  </row>
  <row>
    <cell value="13"/>
    <cell value="17"/>
  </row>
  <row>
    <cell value="14"/>
    <cell value="18"/>
  </row>
  <row>
    <cell value="15"/>
    <cell value="19"/>
  </row>
  <row>
    <cell value="16"/>
    <cell value="21"/>
  </row>
  <row>
    <cell value="17"/>
    <cell value="22"/>
  </row>
  <row>
    <cell value="18"/>
    <cell value="23"/>
  </row>
  <row>
    <cell value="19"/>
    <cell value="24"/>
  </row>
  <row>
    <cell value="20"/>
    <cell value="25"/>
  </row>
</inline_table>
Source:	Player's Handbook 2024 p. 165</text>
        <spellcasting_details>
          <spellbook description="Tiny_object_3lbs_100pages_readable_only_by_you_or_Identify_contains_lvl1+_spells_you_know_starts_with_6_lvl1_Wizard_spells"/>
          <spell_addition_on_level_up count="2" spell_list="Wizard" level_restriction="level_for_which_you_have_spell_slots"/>
          <spellcasting_focus_options>Arcane Focus,Spellbook</spellcasting_focus_options>
        </spellcasting_details>
      </feature>
      <feature>
        <name>Expanding And Replacing A Spellbook</name>
        <text>The spells you add to your spellbook as you gain levels reflect your ongoing magical research, but you might find other spells during your adventures that you can add to the book. You could discover a Wizard spell on a Spell Scroll, for example, and then copy it into your spellbook.

Copying a Spell into the Book. When you find a level 1+ Wizard spell, you can copy it into your spellbook if it's of a level you can prepare and if you have time to copy it. For each level of the spell, the transcription takes 2 hours and costs 50 GP. Afterward you can prepare the spell like the other spells in your spellbook.

Copying the Book. You can copy a spell from your spellbook into another book. This is like copying a new spell into your spellbook but faster, since you already know how to cast the spell. You need spend only 1 hour and 10 GP for each level of the copied spell.
	If you lose your spell book, you can use the same procedure to transcribe the Wizard spells that you have prepared into a new spellbook. Filling out the remainder of the new book requires you to find new spells to do so. For this reason, many wizards keep a backup spellbook.

Source:	Player's Handbook 2024 p. 166</text>
        <spellbook_rules>
          <copying_spell_into_book>
            <condition text="find_lvl1+_Wizard_spell_of_level_you_can_prepare"/>
            <cost_time_per_level hours="2"/>
            <cost_gp_per_level gp="50"/>
            <effect description="spell_is_added_to_spellbook_can_be_prepared"/>
          </copying_spell_into_book>
          <copying_spell_from_book>
            <cost_time_per_level hours="1"/>
            <cost_gp_per_level gp="10"/>
          </copying_spell_from_book>
          <replacing_lost_spellbook>
            <effect description="can_transcribe_prepared_Wizard_spells_into_new_spellbook_filling_remainder_requires_finding_new_spells"/>
          </replacing_lost_spellbook>
        </spellbook_rules>
      </feature>
      <feature>
        <name>Level 1: Ritual Adept</name>
        <text>You can cast any spell as a Ritual if that spell has the Ritual tag and the spell is in your spellbook. You needn&apos;t have the spell prepared, but you must read from the book to cast a spell in this way.

Source:	Player's Handbook 2024 p. 166</text>
        <modifies_spell_casting_rules for_spell_type="Ritual">
          <condition text="spell_has_Ritual_tag_AND_spell_is_in_your_spellbook"/>
          <effect description="can_cast_as_Ritual_neednt_have_spell_prepared_must_read_from_book"/>
        </modifies_spell_casting_rules>
      </feature>
      <feature>
        <name>Level 1: Arcane Recovery</name>
        <text>You can regain some of your magical energy by studying your spell book. When you finish a Short Rest, you can choose expended spell slots to recover. The spell slots can have a combined level equal to no more than half your Wizard level (round up), and none of the slots can be level 6 or higher. For example, if you're a level 4 Wizard, you can recover up to two levels' worth of spell slots, regaining either one level 2 spell slot or two level 1 spell slots.
	Once you use this feature, you can't do so again until you finish a Long Rest.

Source:	Player's Handbook 2024 p. 166</text>
        <trigger text="when_you_finish_a_Short_Rest"/>
        <effect description="choose_expended_spell_slots_to_recover_combined_level_no_more_than_half_Wizard_level_round_up_none_lvl6_or_higher"/>
        <uses fixed="1"/>
        <recharge type="LR"/>
      </feature>
      <counter>
        <name>Arcane Recovery</name>
        <value>1</value>
        <reset>L</reset>
      </counter>
    </autolevel>
    <autolevel level="2">
      <feature>
        <name>Level 2: Scholar</name>
        <text>While studying magic, you also specialized in another field of study. Choose one of the following skills in which you have proficiency: Arcana, History, Investigation, Medicine, Nature, or Religion. You have Expertise in the chosen skill.
Source:	Player's Handbook 2024 p. 166</text>
        <grants_expertise type="SkillProficiency" choice_from_list="Arcana,History,Investigation,Medicine,Nature,Religion" count="1"/>
      </feature>
    </autolevel>
    <autolevel level="3">
      <feature>
        <name>Level 3: Wizard Subclass</name>
        <text>You gain a Wizard subclass of your choice. The Abjurer, Diviner, Evoker, and Illusionist subclasses are detailed after this class's description. A subclass is a specialization t hat grants you features at certain Wizard levels. For the rest of your career, you gain each of your subclass's features that are of your Wizard level or lower.

Source:	Player's Handbook 2024 p. 167</text>
      </feature>
    </autolevel>
    <autolevel level="4" scoreImprovement="YES">
      <feature>
        <name>Level 4: Ability Score Improvement</name>
        <text>You gain the Ability Score Improvement feat (see chapter 5) or another feat of your choice for which you qualify. You gain this feature again at Wizard levels 8, 12, and 16.

Source:	Player's Handbook 2024 p. 167</text>
        <asi_options>
          <option description="Ability Score Improvement feat (see chapter 5)"/>
          <option description="Another feat of your choice for which you qualify"/>
        </asi_options>
      </feature>
    </autolevel>
    <autolevel level="5">
      <feature>
        <name>Level 5: Memorize Spell</name>
        <text>Whenever you finish a Short Rest, you can study your spell book and replace one of the level 1+ Wizard spells you have prepared for your Spellcasting feature with another level 1+ spell from the book.

Source:	Player's Handbook 2024 p. 167</text>
        <trigger text="whenever_you_finish_a_Short_Rest"/>
        <effect description="can_study_spellbook_and_replace_one_lvl1+_prepared_Wizard_spell_with_another_lvl1+_spell_from_book"/>
      </feature>
    </autolevel>
    <autolevel level="8" scoreImprovement="YES">
      <feature>
        <name>Level 8: Ability Score Improvement</name>
        <text>You gain the Ability Score Improvement feat (see chapter 5) or another feat of your choice for which you qualify. You gain this feature again at Wizard levels 8, 12, and 16.

Source:	Player's Handbook 2024 p. 167</text>
        <asi_options>
          <option description="Ability Score Improvement feat (see chapter 5)"/>
          <option description="Another feat of your choice for which you qualify"/>
        </asi_options>
      </feature>
    </autolevel>
    <autolevel level="12" scoreImprovement="YES">
      <feature>
        <name>Level 12: Ability Score Improvement</name>
        <text>You gain the Ability Score Improvement feat (see chapter 5) or another feat of your choice for which you qualify. You gain this feature again at Wizard levels 8, 12, and 16.

Source:	Player's Handbook 2024 p. 167</text>
        <asi_options>
          <option description="Ability Score Improvement feat (see chapter 5)"/>
          <option description="Another feat of your choice for which you qualify"/>
        </asi_options>
      </feature>
    </autolevel>
    <autolevel level="16" scoreImprovement="YES">
      <feature>
        <name>Level 16: Ability Score Improvement</name>
        <text>You gain the Ability Score Improvement feat (see chapter 5) or another feat of your choice for which you qualify. You gain this feature again at Wizard levels 8, 12, and 16.

Source:	Player's Handbook 2024 p. 167</text>
        <asi_options>
          <option description="Ability Score Improvement feat (see chapter 5)"/>
          <option description="Another feat of your choice for which you qualify"/>
        </asi_options>
      </feature>
    </autolevel>
    <autolevel level="18">
      <feature>
        <name>Level 18: Spell Mastery</name>
        <text>You have achieved such mastery over certain spells that you can cast them at will. Choose a level 1 and a level 2 spell in your spellbook that have a casting time of an action. You always have those spells prepared, and you can cast them at their lowest level without expending a spell slot. To cast either spell at a higher level, you must expend a spell slot.
	Whenever you finish a Long Rest, you can study your spellbook and replace one of those spells with an eligible spell of the same level from the book.

Source:	Player's Handbook 2024 p. 167</text>
        <spell_mastery>
          <choose_spell level="1" from_spellbook="true" condition="casting_time_of_an_action"/>
          <choose_spell level="2" from_spellbook="true" condition="casting_time_of_an_action"/>
          <effect description="always_have_chosen_spells_prepared_can_cast_at_lowest_level_without_expending_spell_slot"/>
          <restriction text="to_cast_either_spell_at_higher_level_must_expend_spell_slot"/>
          <trigger text="whenever_you_finish_a_Long_Rest">
            <effect description="can_study_spellbook_and_replace_one_of_those_spells_with_an_eligible_spell_of_same_level_from_book"/>
          </trigger>
        </spell_mastery>
      </feature>
    </autolevel>
    <autolevel level="19">
      <feature>
        <name>Level 19: Epic Boon</name>
        <text>You gain an Epic Boon feat (see chapter 5) or another feat of your choice for which you qualify. Boon of Spell Recall is recommended.

Source:	Player's Handbook 2024 p. 167</text>
      </feature>
    </autolevel>
    <autolevel level="20">
      <feature>
        <name>Level 20: Signature Spells</name>
        <text>Choose two level 3 spells in your spellbook as your signature spells. You always have these spells prepared, and you can cast each of them once at level 3 without expending a spell slot. When you do so, you can't cast them in this way again until you finish a Short or Long Rest. To cast either spell at a higher level, you must expend a spell slot.

Source:	Player's Handbook 2024 p. 167</text>
        <signature_spells count="2" level="3" from_spellbook="true">
          <effect description="always_have_these_spells_prepared"/>
          <uses fixed="1" per_spell="true" for_casting_at_level="3" without_slot="true">
            <recharge type="SR_or_LR"/>
          </uses>
          <restriction text="to_cast_either_spell_at_higher_level_must_expend_spell_slot"/>
        </signature_spells>
      </feature>
    </autolevel>
    <!-- Wizard Subclass: Abjurer -->
    <autolevel level="3">
      <feature optional="YES">
        <name>Wizard Subclass: Abjurer</name>
        <text>Shield Companions and Banish Foes

Your study of magic is focused on spells that block, banish, or protect-ending harmful effects, banishing evil influences, and protecting the weak. Abjurers are sought when baleful spirits require exorcism, when locations must be guarded against magical spying, and when portals to other planes of existence must be closed. Adventuring parties value Abjurers for the protection they provide against a variety of hostile magic and other attacks.

Source:	Player's Handbook 2024 p. 172</text>
        <subclass>Abjurer</subclass>
      </feature>
      <feature optional="YES">
        <name>Level 3: Abjuration Savant (Abjurer)</name>
        <text>Choose two Wizard spells from the Abjuration school, each of which must be no higher than level 2, and add them to your spellbook for free.
	In addition, whenever you gain access to a new level of spell slots in this class, you can add one Wizard spell from the Abjuration school to your spellbook for free. The chosen spell must be of a level for which you have spell slots.

Source:	Player's Handbook 2024 p. 172</text>
        <subclass>Abjurer</subclass>
        <spellbook_addition count="2" school="Abjuration" max_level="2" cost="free"/>
        <spellbook_addition_on_new_slot_level count="1" school="Abjuration" cost="free" level_restriction="level_for_which_you_have_spell_slots"/>
      </feature>
      <feature optional="YES">
        <name>Level 3: Arcane Ward (Abjurer)</name>
        <text>You can weave magic around yourself for protection. When you cast an Abjuration spell with a spell slot, you can simultaneously use a strand of the spell's magic to create a magical ward on yourself that lasts until you finish a Long Rest. The ward has a Hit Point maximum equal to twice your Wizard level plus your Intelligence modifier. Whenever you take damage, the ward takes the damage instead, and if you have any Resistances or Vulnerabilities, apply them before reducing the ward's Hit Points. If the damage reduces the ward to 0 hit points, you take any remaining damage. While the ward has 0 Hit Points, it can't absorb damage, but its magic remains.
	Whenever you cast an Abjuration spell with a spell slot, the ward regains a number of Hit Points equal to twice the level of the spell slot. Alternatively, as a Bonus Action, you can expend a spell slot, and the ward regains a number of Hit Points equal to twice the level of the spell slot expended.
	Once you create the ward, you can't create it again until you finish a Long Rest.

Source:	Player's Handbook 2024 p. 172</text>
        <subclass>Abjurer</subclass>
        <resource name="ArcaneWardHP" value_formula="2*WizardLevel+INT_modifier"/>
        <trigger text="when_you_cast_an_Abjuration_spell_with_a_spell_slot">
          <effect description="create_a_magical_ward_on_yourself" duration="until_LR">
            <ward_mechanic hp_max_formula="ArcaneWardHP_value">
              <effect description="whenever_you_take_damage_ward_takes_damage_instead_apply_Resistances_Vulnerabilities_before_reducing_ward_HP_if_ward_0_HP_you_take_remaining_damage_while_ward_0_HP_cant_absorb_damage_magic_remains"/>
            </ward_mechanic>
          </effect>
        </trigger>
        <ward_recharge_options>
          <option>
            <trigger text="whenever_you_cast_an_Abjuration_spell_with_a_spell_slot"/>
            <effect description="ward_regains_HP_equal_to_2*spell_slot_level"/>
          </option>
          <option>
            <action type="BonusAction"/>
            <cost type="SpellSlot" value_variable="spell_slot_level"/>
            <effect description="ward_regains_HP_equal_to_2*spell_slot_level_expended"/>
          </option>
        </ward_recharge_options>
        <uses fixed="1" for_creating_ward="true">
          <recharge type="LR"/>
        </uses>
      </feature>
      <counter>
        <name>Arcane Ward</name>
        <value>1</value>
        <reset>L</reset>
        <subclass>Abjurer</subclass>
      </counter>
    </autolevel>
    <autolevel level="6">
      <feature optional="YES">
        <name>Level 6: Projected Ward (Abjurer)</name>
        <text>When a creature that you can see within 30 feet of yourself takes damage, you can take a Reaction to cause your Arcane Ward to absorb that damage. If this damage reduces the ward to 0 Hit Points, the warded creature takes any remaining damage. If that creature has any Resistances or Vulnerabilities, apply them before reducing the ward's Hit Points.

Source:	Player's Handbook 2024 p. 172</text>
        <subclass>Abjurer</subclass>
        <action type="Reaction"/>
        <trigger text="when_a_creature_that_you_can_see_within_30_feet_takes_damage"/>
        <effect description="cause_your_Arcane_Ward_to_absorb_that_damage_If_damage_reduces_ward_to_0_HP_warded_creature_takes_remaining_damage_Apply_Resistances_Vulnerabilities_before_reducing_ward_HP"/>
      </feature>
    </autolevel>
    <autolevel level="10">
      <feature optional="YES">
        <name>Level 10: Spell Breaker (Abjurer)</name>
        <text>You always have the Counterspell and Dispel Magic spells prepared. In addition, you can cast Dispel Magic as a Bonus Action, and you can add your Proficiency Bonus to its ability check.
	When you cast either spell with a spell slot, that slot isn't expended if the spell fails to stop a spell.

Source:	Player's Handbook 2024 p. 172</text>
        <subclass>Abjurer</subclass>
        <grants_always_prepared_spell name="Counterspell"/>
        <grants_always_prepared_spell name="Dispel Magic"/>
        <modifies_spell spell_name="Dispel Magic">
          <can_cast_as_bonus_action="true"/>
          <effect description="can_add_Proficiency_Bonus_to_its_ability_check"/>
        </modifies_spell>
        <modifies_spell_casting for_spells="Counterspell,Dispel Magic">
          <trigger text="when_you_cast_either_spell_with_a_spell_slot"/>
          <condition text="if_the_spell_fails_to_stop_a_spell"/>
          <effect description="that_slot_isnt_expended"/>
        </modifies_spell_casting>
      </feature>
    </autolevel>
    <autolevel level="14">
      <feature optional="YES">
        <name>Level 14: Spell Resistance (Abjurer)</name>
        <text>You have Advantage on saving throws against spells, and you have Resistance to the damage of spells.

Source:	Player's Handbook 2024 p. 172</text>
        <subclass>Abjurer</subclass>
        <effect type="Advantage" on="saving_throws_against_spells"/>
        <effect type="Resistance" to_damage_from="spells"/>
      </feature>
    </autolevel>
    <!-- Wizard Subclass: Diviner -->
    <autolevel level="3">
      <feature optional="YES">
        <name>Wizard Subclass: Diviner</name>
        <text>Learn the Secrets of the Multi verse

The counsel of a Diviner is sought by those who want a clearer understanding of the past, present, and future. As a Diviner, you strive to part the veils of space, time, and consciousness. You work to master spells of discernment, remote viewing, supernatural knowledge, and foresight.

Source:	Player's Handbook 2024 p. 173</text>
        <subclass>Diviner</subclass>
      </feature>
      <feature optional="YES">
        <name>Level 3: Divination Savant (Diviner)</name>
        <text>Choose two Wizard spells from the Divination school, each of which must be no higher than level 2, and add them to your spellbook for free.
	In addition, whenever you gain access to a new level of spell slots in this class, you can add one Wizard spell from the Divination school to your spellbook for free. The chosen spell must be of a level for which you have spell slots.

Source:	Player's Handbook 2024 p. 173</text>
        <subclass>Diviner</subclass>
        <spellbook_addition count="2" school="Divination" max_level="2" cost="free"/>
        <spellbook_addition_on_new_slot_level count="1" school="Divination" cost="free" level_restriction="level_for_which_you_have_spell_slots"/>
      </feature>
      <feature optional="YES">
        <name>Level 3: Portent (Diviner)</name>
        <text>Glimpses of the future begin to press on your awareness. Whenever you finish a Long Rest, roll two d20s and record the numbers rolled. You can replace any D20 Test made by you or a creature that you can see with one of these foretelling rolls. You must choose to do so before the roll, and you can replace a roll in this way only once per turn.
	Each foretelling roll can be used only once. When you finish a Long Rest, you lose any unused foretelling rolls.

Source:	Player's Handbook 2024 p. 173</text>
        <subclass>Diviner</subclass>
        <resource name="PortentRolls" count="2"> <!-- Count increases with Greater Portent -->
          <recharge type="LR" effect="roll_d20s_record_numbers_lose_unused"/>
        </resource>
        <uses fixed="1" per_turn="true" for_resource="PortentRolls"/>
        <action type="Special" trigger="before_D20_Test_by_you_or_creature_you_can_see"/>
        <effect description="replace_D20_Test_with_one_foretelling_roll"/>
      </feature>
      <counter>
        <name>Portent</name>
        <value>2</value>
        <reset>L</reset>
        <subclass>Diviner</subclass>
      </counter>
    </autolevel>
    <autolevel level="6">
      <feature optional="YES">
        <name>Level 6: Expert Divination (Diviner)</name>
        <text>Casting Divination spells comes so easily to you that it expends only a fraction of your spellcasting efforts. When you cast a Divination spell using a level 2+ spell slot, you regain one expended spell slot. The slot you regain must be of a level lower than the slot you expended and can't be higher than level 5.

Source:	Player's Handbook 2024 p. 173</text>
        <subclass>Diviner</subclass>
        <trigger text="when_you_cast_a_Divination_spell_using_a_level_2+_spell_slot"/>
        <effect description="regain_one_expended_spell_slot_slot_regained_must_be_lower_level_than_expended_and_not_higher_than_level_5"/>
      </feature>
    </autolevel>
    <autolevel level="10">
      <feature optional="YES">
        <name>Level 10: The Third Eye (Diviner)</name>
        <text>You can increase your powers of perception. As a Bonus Action, choose one of the following benefits, which lasts until you start a Short or Long Rest. You can't use this feature again until you finish a Short or Long Rest.

Darkvision. You gain Darkvision with a range of 120 feet.

Greater Comprehension. You can read any language.

See Invisibility. You can cast See Invisibility without expending a spell slot.

Source:	Player's Handbook 2024 p. 173</text>
        <subclass>Diviner</subclass>
        <action type="BonusAction"/>
        <choice name="ThirdEyeBenefit" count="1">
          <duration description="until_you_start_a_Short_or_Long_Rest"/>
          <option name="Darkvision">
            <effect type="Sense" name="Darkvision" range="120_feet"/>
          </option>
          <option name="Greater Comprehension">
            <effect description="can_read_any_language"/>
          </option>
          <option name="See Invisibility">
            <effect description="can_cast_See_Invisibility_without_expending_a_spell_slot"/>
          </option>
        </choice>
        <uses fixed="1"/>
        <recharge type="SR_or_LR"/>
      </feature>
      <counter>
        <name>The Third Eye</name>
        <value>1</value>
        <reset>S</reset>
        <subclass>Diviner</subclass>
      </counter>
    </autolevel>
    <autolevel level="14">
      <feature optional="YES">
        <name>Level 14: Greater Portent (Diviner)</name>
        <text>The visions in your dreams intensify and paint a more accurate picture in your mind of what is to come. Roll three d20s for your Portent feature rather than two.

Source:	Player's Handbook 2024 p. 173</text>
        <subclass>Diviner</subclass>
        <enhances_feature feature_name="Level 3: Portent (Diviner)">
          <modifies_resource name="PortentRolls" new_count="3"/>
        </enhances_feature>
      </feature>
      <counter>
        <name>Portent</name>
        <value>3</value>
        <reset>L</reset>
        <subclass>Diviner</subclass>
      </counter>
    </autolevel>
    <!-- Wizard Subclass: Evoker -->
    <autolevel level="3">
      <feature optional="YES">
        <name>Wizard Subclass: Evoker</name>
        <text>Create Explosive Elemental Effects

Your studies focus on magic that creates powerful elemental effects such as bitter cold, searing flame, rolling thunder, crackling lightning, and burning acid. Some Evokers find employment in military forces, serving as artillery to blast armies from afar. Others use their power to protect others, while some seek their own gain.

Source:	Player's Handbook 2024 p. 174</text>
        <subclass>Evoker</subclass>
      </feature>
      <feature optional="YES">
        <name>Level 3: Evocation Savant (Evoker)</name>
        <text>Choose two Wizard spells from the Evocation school, each of which must be no higher than level 2, and add them to your spellbook for free.
	In addition, whenever you gain access to a new level of spell slots in this class, you can add one Wizard spell from the Evocation school to your spellbook for free. The chosen spell must be of a level for which you have spell slots.

Source:	Player's Handbook 2024 p. 174</text>
        <subclass>Evoker</subclass>
        <spellbook_addition count="2" school="Evocation" max_level="2" cost="free"/>
        <spellbook_addition_on_new_slot_level count="1" school="Evocation" cost="free" level_restriction="level_for_which_you_have_spell_slots"/>
      </feature>
      <feature optional="YES">
        <name>Level 3: Potent Cantrip (Evoker)</name>
        <text>Your damaging cantrips affect even creatures that avoid the brunt of the effect. When you cast a cantrip at a creature and you miss with the attack roll or the target succeeds on a saving throw against the cantrip, the target takes half the cantrip's damage (if any) but suffers no additional effect from the cantrip.

Source:	Player's Handbook 2024 p. 174</text>
        <subclass>Evoker</subclass>
        <trigger text="when_you_cast_a_cantrip_at_a_creature_and_you_miss_with_attack_roll_or_target_succeeds_on_saving_throw"/>
        <effect description="target_takes_half_the_cantrips_damage_if_any_but_suffers_no_additional_effect"/>
      </feature>
    </autolevel>
    <autolevel level="6">
      <feature optional="YES">
        <name>Level 6: Sculpt Spells (Evoker)</name>
        <text>You can create pockets of relative safety within the effects of your evocations. When you cast an Evocation spell that affects other creatures that you can see, you can choose a number of them equal to 1 plus the spell's level. The chosen creatures automatically succeed on their saving throws against the spell, and they take no damage if they would normally take half damage on a successful save.

Source:	Player's Handbook 2024 p. 174</text>
        <subclass>Evoker</subclass>
        <trigger text="when_you_cast_an_Evocation_spell_that_affects_other_creatures_that_you_can_see"/>
        <target_choice count_formula="1+spell_level" description="creatures_affected_by_spell"/>
        <effect description="chosen_creatures_automatically_succeed_on_their_saving_throws_against_the_spell_and_take_no_damage_if_they_would_normally_take_half_damage_on_successful_save"/>
      </feature>
    </autolevel>
    <autolevel level="10">
      <feature optional="YES">
        <name>Level 10: Empowered Evocation (Evoker)</name>
        <text>Whenever you cast a Wizard spell from the Evocation school, you can add your Intelligence modifier to one damage roll of that spell.

Source:	Player's Handbook 2024 p. 174</text>
        <subclass>Evoker</subclass>
        <trigger text="whenever_you_cast_a_Wizard_spell_from_the_Evocation_school"/>
        <effect type="DamageBonus" value_formula="INT_modifier" on_roll_count="one"/>
      </feature>
    </autolevel>
    <autolevel level="14">
      <feature optional="YES">
        <name>Level 14: Overchannel (Evoker)</name>
        <text>You can increase the power of your spells. When you cast a Wizard spell with a spell slot of levels 1-5 that deals damage, you can deal maximum damage with that spell on the turn you cast it.
	The first time you do so, you suffer no adverse effect. If you use this feature again before you finish a Long Rest, you take 2d12 Necrotic damage for each level of the spell slot immediately after you cast it. This damage ignores Resistance and Immunity.
	Each time you use this feature again before finishing a Long Rest, the Necrotic damage per spell level increases by 1d12.

Source:	Player's Handbook 2024 p. 174</text>
        <subclass>Evoker</subclass>
        <trigger text="when_you_cast_a_Wizard_spell_with_a_spell_slot_of_levels_1_5_that_deals_damage"/>
        <effect description="can_deal_maximum_damage_with_that_spell_on_the_turn_you_cast_it"/>
        <usage_penalty>
          <first_use_no_effect/>
          <subsequent_use_before_LR>
            <effect type="Damage" target="self" damage_type="Necrotic" value_formula="2d12_per_spell_slot_level" timing="immediately_after_you_cast_it" ignores_resistance_immunity="true"/>
            <scaling_penalty_on_further_uses_before_LR description="Necrotic_damage_per_spell_level_increases_by_1d12"/>
          </subsequent_use_before_LR>
        </usage_penalty>
        <roll description="Necrotic Damage">2d12</roll>
        <roll description="Extra Necrotic Damage">1d12</roll>
      </feature>
      <counter>
        <name>Overchannel</name>
        <value>1</value> <!-- Represents the 'first time no adverse effect' usage -->
        <reset>L</reset>
        <subclass>Evoker</subclass>
      </counter>
    </autolevel>
    <!-- Wizard Subclass: Illusionist -->
    <autolevel level="3">
      <feature optional="YES">
        <name>Wizard Subclass: Illusionist</name>
        <text>Weave Subtle Spells of Deception

You specialize in magic that dazzles the senses and tricks the mind, and the illusions you craft make the impossible seem real.

Source:	Player's Handbook 2024 p. 175</text>
        <subclass>Illusionist</subclass>
      </feature>
      <feature optional="YES">
        <name>Level 3: Illusion Savant (Illusionist)</name>
        <text>Choose two Wizard spells from the Illusion school, each of which must be no higher than level 2, and add them to your spellbook for free.
	In addition, whenever you gain access to a new level of spell slots in this class, you can add one Wizard spell from the Illus ion school to your spellbook for free. The chosen spell must be of a level for which you have spell slots.

Source:	Player's Handbook 2024 p. 175</text>
        <subclass>Illusionist</subclass>
        <spellbook_addition count="2" school="Illusion" max_level="2" cost="free"/>
        <spellbook_addition_on_new_slot_level count="1" school="Illusion" cost="free" level_restriction="level_for_which_you_have_spell_slots"/>
      </feature>
      <feature optional="YES">
        <name>Level 3: Improved Illusions (Illusionist)</name>
        <text>You can cast Illusion spells without providing Verbal components, and if an Illusion spell you cast has a range of 10+ feet, the range increases by 60 feet.
	You also know the Minor Illusion cantrip. If you already know it, you learn a different Wizard cantrip of your choice. The cantrip doesn't count against your number of cantrips known. You can create both a sound and an image with a single casting of Minor Illusion, and you can cast it as a Bonus Action.

Source:	Player's Handbook 2024 p. 175</text>
        <subclass>Illusionist</subclass>
        <modifies_spell_casting for_school="Illusion">
          <modifies_spell_components no_verbal="true"/>
          <modifies_spell_property property="range" condition="range_10+_feet" new_range_increase="+60_feet"/>
        </modifies_spell_casting>
        <grants_spell_learning spell_name="Minor Illusion" type="Cantrip" counts_against_known="false">
          <alternative_grant condition="if_already_know_Minor_Illusion" description="learn_a_different_Wizard_cantrip_of_your_choice"/>
        </grants_spell_learning>
        <modifies_spell spell_name="Minor Illusion">
          <effect description="can_create_both_a_sound_and_an_image_with_a_single_casting"/>
          <can_cast_as_bonus_action="true"/>
        </modifies_spell>
      </feature>
    </autolevel>
    <autolevel level="6">
      <feature optional="YES">
        <name>Level 6: Phantasmal Creatures (Illusionist)</name>
        <text></text> <!-- Texto vaciado temporalmente -->
        <subclass>Illusionist</subclass>
        <grants_always_prepared_spell name="Summon Beast"/>
        <grants_always_prepared_spell name="Summon Fey"/>
        <modifies_spell spell_names="Summon Beast,Summon Fey">
          <option_to_modify_casting>
            <change_school_to="Illusion"/>
            <effect description="summoned_creature_appears_spectral"/>
          </option_to_modify_casting>
          <can_cast_without_slot="true" version="Illusion">
            <effect description="casting_without_slot_halves_creatures_Hit_Points"/>
            <uses fixed="1" per_spell="true"/>
            <recharge type="LR"/>
          </can_cast_without_slot>
        </modifies_spell>
      </feature>
    </autolevel>
    <autolevel level="10">
      <feature optional="YES">
        <name>Level 10: Illusory Self (Illusionist)</name>
        <text>When a creature hits you with an attack roll, you can take a Reaction to interpose an illusory duplicate of yourself between the attacker and yourself. The attack automatically misses you, then the illusion dissipates.
	Once you use this feature, you can't use it again until you finish a Short or Long Rest. You can also restore your use of it by expending a level 2+ spell slot (no action required).

Source:	Player's Handbook 2024 p. 175</text>
        <subclass>Illusionist</subclass>
        <action type="Reaction"/>
        <trigger text="when_a_creature_hits_you_with_an_attack_roll"/>
        <effect description="interpose_an_illusory_duplicate_of_yourself_attack_automatically_misses_you_then_illusion_dissipates"/>
        <uses fixed="1"/>
        <recharge type="SR_or_LR"/>
        <can_reuse_by_expending resource="SpellSlot" level="2+" value="1" action_type="NoAction"/>
      </feature>
      <counter>
        <name>Illusory Self</name>
        <value>1</value>
        <reset>S</reset>
        <subclass>Illusionist</subclass>
      </counter>
    </autolevel>
    <autolevel level="14">
      <feature optional="YES">
        <name>Level 14: Illusory Reality (Illusionist)</name>
        <text>You have learned to weave shadow magic into your illusions to give them a semi-reality. When you cast an Illusion spell with a spell slot, you can choose one inanimate, nonmagical object that is part of the illusion and make that object real. You can do this on your turn as a Bonus Action while the spell is ongoing. The object remains real for 1 minute, during which it can't deal damage or give any conditions. For example, you can create an illusion of a bridge over a chasm and then make it real and cross it.

Source:	Player's Handbook 2024 p. 175</text>
        <subclass>Illusionist</subclass>
        <action type="BonusAction" condition="while_Illusion_spell_cast_with_spell_slot_is_ongoing">
          <trigger text="when_you_cast_an_Illusion_spell_with_a_spell_slot"/>
          <effect description="choose_one_inanimate_nonmagical_object_that_is_part_of_the_illusion_and_make_that_object_real"/>
          <duration unit="minute" value="1"/>
          <restriction text="object_cant_deal_damage_or_give_any_conditions"/>
        </effect>
      </feature>
    </autolevel>
  </class>
</compendium>
